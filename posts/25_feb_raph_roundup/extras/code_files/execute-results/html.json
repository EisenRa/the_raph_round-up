{
  "hash": "4febba0d574da6de856984dfdaa6194c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Copenhagen Winter\"\nauthor: \"Raphael Eisenhofer\"\nformat: \n  gfm:\n    fig-width: 12\n    fig-height: 7\n    fig-dpi: 300\n    toc: true\n  html:\n    fig-width: 12\n    fig-height: 7\n    fig-dpi: 300\n    toc: true\n  pdf:\n    fig-width: 7\n    fig-height: 7\n    fig-dpi: 300\n    toc: true\neditor: visual\n---\n\n\n\n\n\n\n\n\n\n\n\n## Purpose\n\nTo test my qualitative assessment that winter has been warmer this year (24/25) compared to last (23/24).\n\nDaily temperature data sourced from the DMI (Danish Meteorological Institute), weather station: Landbohøjskolen (Copenhagen).\n\n## Wrangle data\n\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\ndf <- rbind(read_delim(\"dec_23.csv\"), \n              read_delim(\"dec_24.csv\"),\n              read_delim(\"jan_24.csv\"),\n              read_delim(\"jan_25.csv\")\n              ) %>%\n  separate(., \n           DateTime, \n           into = c(\"date\", \"time\"), \n           sep = \" \"\n           ) %>%\n  mutate(time = replace_na(time, \"00:00:00\"),\n         time = str_replace(time, \":00:00\", \"\"),\n         year = str_replace(date, \"-.*\", \"\"),\n         month = case_when(str_detect(date, \"-01-\") ~ \"january\",\n                           str_detect(date, \"-12-\") ~ \"december\"),\n         day = as.numeric(str_replace(date, \"....-..-\", \"\"))\n         ) %>%\n  group_by(date) %>%\n  mutate(daily_max = max(Maksimumtemperatur),\n         daily_min = min(Minimumtemperatur),\n         daily_avg = mean(Middeltemperatur)) %>%\n  ungroup()\n```\n:::\n\n\n\n\n\n\n\n\n\n\n\n### Plot January comparison\n\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>%\n  filter(month == \"january\") %>%\n  ggplot(aes(x = day, \n             y = daily_max, \n             colour = year, \n             group = year)\n         ) +\n  geom_line(linewidth = 1) +\n  geom_point() +\n  scale_colour_manual(values = c(\"2024\" = \"lightblue\",\n                                 \"2025\" = \"red\")\n                      ) +\n  geom_hline(yintercept = mean(df %>% filter(year == \"2024\" & month == \"january\") %>% pull(daily_max)), \n             colour = \"lightblue\",\n             linetype = \"dotted\"\n             ) +\n  geom_hline(yintercept = mean(df %>% filter(year == \"2025\" & month == \"january\") %>% pull(daily_max)), \n             colour = \"red\",\n             linetype = \"dotted\"\n             ) +\n  scale_x_continuous(n.breaks = 7) +\n  scale_y_continuous(n.breaks = 7) +\n  theme_classic() +\n  theme(legend.position = \"top\",\n        legend.title = element_blank(),\n        axis.title = element_text(size = 14),\n        axis.text = element_text(size = 10),\n        ) +\n  labs(x = \"Day\", y = \"Daily maximum temperature (°C)\") +\n  ggtitle(\"Maximum temperatures by day for January 2024 & 2025\")\n```\n\n::: {.cell-output-display}\n![](code_files/figure-html/unnamed-chunk-2-1.png){width=3600}\n:::\n:::\n\n\n\n\n\n\n\n\n\n\n\n### Plot December comparison\n\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>%\n  filter(month == \"december\") %>%\n  ggplot(aes(x = day, \n             y = daily_max, \n             colour = year, \n             group = year)\n         ) +\n  geom_line(linewidth = 1) +\n  geom_point() +\n  scale_colour_manual(values = c(\"2023\" = \"lightblue\",\n                                 \"2024\" = \"red\")\n                      ) +\n  geom_hline(yintercept = mean(df %>% filter(year == \"2023\" & month == \"december\") %>% pull(daily_max)), \n             colour = \"lightblue\",\n             linetype = \"dotted\"\n             ) +\n  geom_hline(yintercept = mean(df %>% filter(year == \"2024\" & month == \"december\") %>% pull(daily_max)), \n             colour = \"red\",\n             linetype = \"dotted\"\n             ) +\n  scale_x_continuous(n.breaks = 7) +\n  scale_y_continuous(n.breaks = 7) +\n  theme_classic() +\n  theme(legend.position = \"top\",\n        axis.title = element_text(size = 14),\n        axis.text = element_text(size = 10),\n        ) +\n  labs(x = \"Day\", y = \"Daily maximum temperature (°C)\")\n```\n\n::: {.cell-output-display}\n![](code_files/figure-html/unnamed-chunk-3-1.png){width=3600}\n:::\n:::\n\n\n\n\n\n\n\n\n\n\n\n### Plot January comparison (mean temps)\n\nLooks like mean temperatures give more or less the same answer compared to maximum temps.\n\n\n\n\n\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>%\n  filter(month == \"january\") %>%\n  ggplot(aes(x = day, \n             y = daily_avg, \n             colour = year, \n             group = year)\n         ) +\n  geom_line(linewidth = 1) +\n  geom_point() +\n  scale_colour_manual(values = c(\"2024\" = \"lightblue\",\n                                 \"2025\" = \"red\")\n                      ) +\n  geom_hline(yintercept = mean(df %>% filter(year == \"2024\" & month == \"january\") %>% pull(daily_avg)), \n             colour = \"lightblue\",\n             linetype = \"dotted\"\n             ) +\n  geom_hline(yintercept = mean(df %>% filter(year == \"2025\" & month == \"january\") %>% pull(daily_avg)), \n             colour = \"red\",\n             linetype = \"dotted\"\n             ) +\n  scale_x_continuous(n.breaks = 7) +\n  scale_y_continuous(n.breaks = 7) +\n  theme_classic() +\n  theme(legend.position = \"top\",\n        axis.title = element_text(size = 14),\n        axis.text = element_text(size = 10),\n        ) +\n  labs(x = \"Day\", y = \"Daily average temperature (°C)\")\n```\n\n::: {.cell-output-display}\n![](code_files/figure-html/unnamed-chunk-4-1.png){width=3600}\n:::\n:::\n",
    "supporting": [
      "code_files\\figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}